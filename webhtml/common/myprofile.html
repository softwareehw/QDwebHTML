<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>我的账户信息</title>
<link href="../../css/bootstrap.min.css" rel="stylesheet">
<link href="../../font-awesome/css/font-awesome.css" rel="stylesheet">
<link href="../../css/animate.css" rel="stylesheet">
<link href="../../css/style.css" rel="stylesheet">
	<!-- Mainly scripts --> 
<script src="../../js/jquery-3.1.1.min.js"></script> 
<script src="../../js/popper.min.js"></script> 
<script src="../../js/bootstrap.js"></script> 
<script src="../../js/plugins/metisMenu/jquery.metisMenu.js"></script> 
<script src="../../js/plugins/slimscroll/jquery.slimscroll.min.js"></script> 
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<!-- Flot --> 
<script src="../../js/plugins/flot/jquery.flot.js"></script> 
<script src="../../js/plugins/flot/jquery.flot.tooltip.min.js"></script> 
<script src="../../js/plugins/flot/jquery.flot.spline.js"></script> 
<script src="../../js/plugins/flot/jquery.flot.resize.js"></script> 
<script src="../../js/plugins/flot/jquery.flot.pie.js"></script> 
<script src="../../js/plugins/flot/jquery.flot.symbol.js"></script> 
<script src="../../js/plugins/flot/jquery.flot.time.js"></script> 

<!-- Peity --> 
<script src="../../js/plugins/peity/jquery.peity.min.js"></script> 
<script src="../../js/demo/peity-demo.js"></script> 

<!-- Custom and plugin javascript --> 
<script src="../../js/inspinia.js"></script> 
<script src="../../js/plugins/pace/pace.min.js"></script> 

<!-- jQuery UI --> 
<script src="../../js/plugins/jquery-ui/jquery-ui.min.js"></script> 

<!-- EayPIE --> 
<script src="../../js/plugins/easypiechart/jquery.easypiechart.js"></script> 

<!-- Sparkline --> 
<script src="../../js/plugins/sparkline/jquery.sparkline.min.js"></script> 

<!-- Sparkline demo data  --> 
<script src="../../js/demo/sparkline-demo.js"></script> 
</head>

<body>
<div id="wrapper" class="gray-bg">
  <div id="page-wrapper" class="gray-bg" style="margin: 0;">
    <div class="wrapper wrapper-content animated fadeInRight" id="app1">
      <div class="row m-b-lg m-t-lg" style="height: 160px">

        <div class="col-md-6">
          <div class="profile-image"> 
            <img src="../employee/img/a4.jpg" class="rounded-circle circle-border m-b-md" alt="profile"> 
          </div>

          <div class="profile-info">

            <div class="">
              <div>
                <h2 class="no-margins"> 员工姓名：{{userInfo.name}}</h2>
                <big>员工编号：{{userInfo.employeeId}}</big><br>
                <big>部门编号：{{userInfo.sectorId}}</big><br>
                <big>年龄：{{userInfo.age}}</big><br>
                <big>工资：{{userInfo.salary}}</big><br>
                <big v-if="userInfo.sex">性别：男</big>
                <big v-else>性别：女</big><br>
                <big>手机号：{{userInfo.phoneNumber}}</big><br>
                <big>入职时间：{{userInfo.enrollTime}}</big><br>
                <big>账户编号：{{userInfo.userId}}</big><br>
                <big v-f="userInfo.manager">是否为主管：是</big>
                <big v-else>是否为主管：是</big>
              </div>
            </div>

          </div>

        </div>

      </div>

    </div>
  </div>
</div>
<script type="text/javascript">
new Vue({
  el: '#app1',
  data: {
	  userInfo:{},
	  UID:0
  },
	created:function(){
		var params=location.search;
		var arr = params.substring(1).split("&"); 
		this.UID = arr[0].replace("UID=","");
		console.log("ajax beging \n")
		var that = this;
		jQuery.ajax({
			type:"GET",
            url:"http://39.105.38.34:8080/api/v1/employees/"+that.UID,
			contentType:"application/json",
			xhrFields: {
                withCredentials: true
            },
            crossDomain: true,
			success:function(data){
				var userArray=JSON.parse(data)
				that.userInfo=userArray[0];
            },
			error:function(data){
				console.log("fail");
				
			}
		})
	}
})
	
</script>
</body>
</html>
