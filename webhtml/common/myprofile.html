<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>我的账户信息</title>
<link href="../../css/bootstrap.min.css" rel="stylesheet">
<link href="../../font-awesome/css/font-awesome.css" rel="stylesheet">
<link href="../../css/animate.css" rel="stylesheet">
<link href="../../css/style.css" rel="stylesheet">
<!-- Mainly scripts -->
<script src="../../js/jquery-3.1.1.min.js"></script>
<script src="../../js/popper.min.js"></script>
<script src="../../js/bootstrap.js"></script>
<script src="../../js/plugins/metisMenu/jquery.metisMenu.js"></script>
<script src="../../js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<!-- Flot -->
<script src="../../js/plugins/flot/jquery.flot.js"></script>
<script src="../../js/plugins/flot/jquery.flot.tooltip.min.js"></script>
<script src="../../js/plugins/flot/jquery.flot.spline.js"></script>
<script src="../../js/plugins/flot/jquery.flot.resize.js"></script>
<script src="../../js/plugins/flot/jquery.flot.pie.js"></script>
<script src="../../js/plugins/flot/jquery.flot.symbol.js"></script>
<script src="../../js/plugins/flot/jquery.flot.time.js"></script>

<!-- Peity -->
<script src="../../js/plugins/peity/jquery.peity.min.js"></script>
<script src="../../js/demo/peity-demo.js"></script>

<!-- Custom and plugin javascript -->
<script src="../../js/inspinia.js"></script>
<script src="../../js/plugins/pace/pace.min.js"></script>

<!-- jQuery UI -->
<script src="../../js/plugins/jquery-ui/jquery-ui.min.js"></script>

<!-- EayPIE -->
<script src="../../js/plugins/easypiechart/jquery.easypiechart.js"></script>

<!-- Sparkline -->
<script src="../../js/plugins/sparkline/jquery.sparkline.min.js"></script>

<!-- Sparkline demo data  -->
<script src="../../js/demo/sparkline-demo.js"></script>
</head>

<body>
<div id="wrapper" class="gray-bg">
  <div id="page-wrapper" class="gray-bg" style="margin: 0;height: auto">
    <div class="wrapper wrapper-content animated fadeInRight" id="app1">
      <div class="row">
        <div class="col-lg-6 col-sm-6">
                        <div class="widget-head-color-box navy-bg p-lg text-center">
                            <div class="m-b-md">
                            <h2 class="font-bold no-margins">
                                {{userInfo.name}}
                            </h2>
                             
                            </div>
                            <img src="../../img/profile_small.jpg" class="rounded-circle circle-border m-b-md" alt="profile">
                            <div>
                                <span>100 Tweets</span> |
                                <span>350 Following</span> |
                                <span>610 Followers</span>
                            </div>
                        </div>
                        <div class="widget-text-box">
                            <h4 class="media-heading">格言</h4>
                            <p>我们的软工作业一定可以做成！</p>
                            <div class="text-right">
                                <a href=""  class="btn btn-xs btn-white"><i class="fa fa-thumbs-up"></i> Like </a>
                                <a href="" class="btn btn-xs btn-primary"><i class="fa fa-heart"></i> Love</a>
                            </div>
                        </div>
                </div>
        <div class="col-lg-6 col-sm-6">
          <div class="widget lazur-bg p-xl">
            <ul class="list-unstyled m-t-md col-sm-5">
				<li> <span class="fa fa-envelope m-r-xs"></span>
                <label>员工编号:</label>
                {{userInfo.employeeId}} </li>
              <li> <span class="fa fa-home m-r-xs"></span>
                <label>部门编号:</label>
                {{userInfo.sectorId}} </li>
              <li> <span class="fa fa-phone m-r-xs"></span>
                <label>年龄:</label>
                {{userInfo.age}}</li>
				<li> <span class="fa fa-envelope m-r-xs"></span>
                <label>工资:</label>
                {{userInfo.salary}} </li>
              <li v-if="userInfo.sex"> <span class="fa fa-home m-r-xs"></span>
                <label>性别:</label>
                男 </li>
				<li v-else> <span class="fa fa-home m-r-xs"></span>
                <label>性别:</label>
                女 </li>
				<li v-if="userInfo.manager"> <span class="fa fa-home m-r-xs"></span>
                <label>是否为部门主管:</label>
                是 </li>
				<li v-else> <span class="fa fa-home m-r-xs"></span>
                <label>性别:</label>
                否 </li>
              <li> <span class="fa fa-phone m-r-xs"></span>
                <label>年龄:</label>
                {{userInfo.age}}</li>
              <li> <span class="fa fa-envelope m-r-xs"></span>
                <label>Email:</label>
                pidanself@mail.com </li>
              <li> <span class="fa fa-home m-r-xs"></span>
                <label>Address:</label>
                北京科技大学 </li>
              <li> <span class="fa fa-phone m-r-xs"></span>
                <label>Contact:</label>
                {{userInfo.phoneNumber}}</li>
            </ul>
          </div>
        </div>
        <div class="col-lg-12 col-sm-12">
          <div class="widget style1">
              <form action="http://39.105.38.34:8080/api/v1/ai/photos/employees" method="post" enctype="multipart/form-data">
                  <div class="custom-file">
                      <input id="file" class="topsub-file" type="file" name="image" onchange="c()" />
                      <a id="img_a"></a>+ <img id="show" alt="" /><br>
                      <div class="form-group  row">
                          <label class="col-sm-2 col-form-label">员工编号</label>
                          <div class="col-lg-10"><input readonly type="text" id="employeeId" name="employeeId" class="form-control"  :value="userInfo.employeeId"></div>
                      </div>
                      <input class="btn btn-primary btn-sm" type="submit" value="submit" />
                  </div>
              </form>
          </div>

        </div>

      </div>
    </div>
  </div>
</div>
<script type="text/javascript">

        function c() {
            $("#img_a").remove();
            $("#show").show();
            var r= new FileReader();
            f=document.getElementById('file').files[0];
            r.readAsDataURL(f);
            r.onload=function  (e) {
                document.getElementById('show').src=this.result;
            };
        }
        $("form").submit(function(){
            event.preventDefault();
            var formData = new FormData(this);
            $.ajax({
                url:"xxx.html",
                data:formData,
                dataType:'json',
                type:'post',
                processData: false,
                contentType: false,
                success:function(res){
                    alert(res.msg);
                    $("html").trigger('click');
                }
            });
            return false;
        });

new Vue({
  el: '#app1',
  data: {
	  userInfo:{}
  },
	created:function(){
		var userArray = JSON.parse(localStorage.getItem('employee'));
        this.userInfo = userArray[0];
		console.log(this.userInfo)
	}
})
	
</script>
</body>
</html>
